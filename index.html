<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Untukmu ðŸŒ™</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
*{box-sizing:border-box}
body{
    margin:0;
    height:100vh;
    background:
      radial-gradient(circle at top,#3a1c71,#000),
      linear-gradient(#000,#12002f);
    font-family:'Segoe UI',sans-serif;
    color:white;
    overflow:hidden;
}

/* === CANVAS PARTIKEL === */
canvas{
    position:fixed;
    inset:0;
    z-index:0;
}

/* === CONTAINER === */
.ui{
    position:relative;
    z-index:3;
    text-align:center;
    padding-top:40px;
}

/* === BUTTON === */
.btn{
    padding:14px 34px;
    border:none;
    border-radius:30px;
    font-size:16px;
    color:white;
    cursor:pointer;
    background:linear-gradient(45deg,#ff7eb3,#ff758c);
    box-shadow:0 0 30px rgba(255,120,180,.9);
}

/* === GARDEN === */
#garden{
    display:none;
    position:relative;
    width:100%;
    height:360px;
    margin-top:20px;
}

/* === STEM === */
.stem{
    position:absolute;
    bottom:0;
    width:6px;
    height:0;
    background:linear-gradient(#6dd5fa,#2980b9);
    border-radius:4px;
    animation:grow 2.5s forwards;
}

/* === FLOWER SVG === */
.flower{
    position:absolute;
    width:120px;
    height:120px;
    transform:scale(0);
    animation:bloom 3s forwards;
    filter:drop-shadow(0 0 25px #ff7eb3);
}

.f1{left:50%;top:80px;animation-delay:2.5s}
.f2{left:22%;top:120px;animation-delay:3.1s}
.f3{left:78%;top:115px;animation-delay:3.7s}

@keyframes grow{to{height:260px}}
@keyframes bloom{
    60%{transform:scale(1.1) rotate(10deg)}
    100%{transform:scale(1) rotate(360deg)}
}

/* === LETTER === */
#letter{
    display:none;
    position:fixed;
    bottom:70px;
    right:30px;
    font-size:48px;
    cursor:pointer;
    animation:pulse 1.6s infinite;
    z-index:5;
}
@keyframes pulse{50%{transform:scale(1.25)}}

/* === MESSAGE MODAL === */
#modal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    z-index:10;
    display:flex;
    align-items:center;
    justify-content:center;
}
.box{
    background:rgba(20,0,40,.95);
    padding:22px;
    border-radius:20px;
    width:320px;
    box-shadow:0 0 50px #ff7eb3;
}
.box img{
    width:100%;
    border-radius:15px;
    margin-bottom:12px;
}
.typing{
    border-left:2px solid #ff7eb3;
    padding-left:10px;
    text-align:left;
    min-height:90px;
    white-space:pre-line;
}

/* === MOBILE === */
@media(max-width:500px){
    .flower{width:90px;height:90px}
}
</style>
</head>

<body>

<canvas id="fx"></canvas>
<audio id="music" src="music.mp3" loop></audio>

<div class="ui">
    <h2>ðŸŒ¸ Ada sesuatu yang ingin aku sampaikan</h2>
    <button class="btn" onclick="start()">Klik Perlahan</button>

    <div id="garden">
        <div class="stem" style="left:50%"></div>
        <div class="stem" style="left:22%"></div>
        <div class="stem" style="left:78%"></div>

        <!-- SVG FLOWERS -->
        <svg class="flower f1" viewBox="0 0 100 100">
            <defs>
                <radialGradient id="g1">
                    <stop offset="0%" stop-color="#fff"/>
                    <stop offset="100%" stop-color="#ff7eb3"/>
                </radialGradient>
            </defs>
            <g transform="translate(50 50)">
                <g>
                    <ellipse rx="12" ry="35" fill="url(#g1)" transform="rotate(0) translate(0 -25)"/>
                    <ellipse rx="12" ry="35" fill="url(#g1)" transform="rotate(72) translate(0 -25)"/>
                    <ellipse rx="12" ry="35" fill="url(#g1)" transform="rotate(144) translate(0 -25)"/>
                    <ellipse rx="12" ry="35" fill="url(#g1)" transform="rotate(216) translate(0 -25)"/>
                    <ellipse rx="12" ry="35" fill="url(#g1)" transform="rotate(288) translate(0 -25)"/>
                </g>
                <circle r="10" fill="gold"/>
            </g>
        </svg>

        <svg class="flower f2" viewBox="0 0 100 100">
            <use href="#"></use>
            <circle cx="50" cy="50" r="18" fill="hotpink"/>
        </svg>

        <svg class="flower f3" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="18" fill="plum"/>
        </svg>
    </div>
</div>

<div id="letter" onclick="openMsg()">ðŸ’Œ</div>

<div id="modal">
    <div class="box">
        <img src="foto.jpg">
        <div class="typing" id="text"></div>
        <button class="btn" onclick="closeMsg()">Tutup</button>
    </div>
</div>

<script>
/* === START === */
function start(){
    document.querySelector(".btn").style.display="none";
    document.getElementById("garden").style.display="block";

    const music=document.getElementById("music");
    music.volume=0;
    music.play();
    let v=0;
    let fade=setInterval(()=>{
        if(v>=1) clearInterval(fade);
        music.volume=v+=0.05;
    },200);

    setTimeout(()=>document.getElementById("letter").style.display="block",6000);
}

/* === TYPING EFFECT === */
const msg=`Aku tahu aku tidak sempurna.
Aku tahu aku sering salah.

Tapi setiap perasaan ini,
aku simpan dengan sungguh-sungguh.

Kalau kamu membaca ini,
artinya kamu berarti ðŸŒ·`;

let i=0;
function openMsg(){
    document.getElementById("modal").style.display="flex";
    const t=document.getElementById("text");
    t.innerHTML="";
    i=0;
    let type=setInterval(()=>{
        t.innerHTML+=msg[i];
        i++;
        if(i>=msg.length) clearInterval(type);
    },40);
}
function closeMsg(){
    document.getElementById("modal").style.display="none";
}

/* === PARTICLES === */
const c=document.getElementById("fx");
const x=c.getContext("2d");
c.width=innerWidth;
c.height=innerHeight;
let p=[];
for(let i=0;i<120;i++){
    p.push({x:Math.random()*c.width,y:Math.random()*c.height,r:Math.random()*2+1,s:Math.random()+.3});
}
function draw(){
    x.clearRect(0,0,c.width,c.height);
    x.fillStyle="rgba(255,200,255,.8)";
    p.forEach(e=>{
        x.beginPath();
        x.arc(e.x,e.y,e.r,0,Math.PI*2);
        x.fill();
        e.y-=e.s;
        if(e.y<0)e.y=c.height;
    });
    requestAnimationFrame(draw);
}
draw();
</script>

</body>
</html>
